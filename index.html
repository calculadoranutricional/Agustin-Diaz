<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Noticias, Clima y Hora en Vivo üåç | Mi Web Integrada</title>

  <!-- SEO -->
  <meta name="description" content="Sitio moderno con noticias actualizadas, clima en C√≥rdoba, hora en vivo y datos de usuario. Hecho con HTML, CSS, JavaScript y TypeScript.">
  <meta name="keywords" content="Noticias, Clima, Hora, Argentina, C√≥rdoba, JavaScript, TypeScript, HTML5, CSS3, Web">
  <meta name="author" content="Agust√≠n D√≠az">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://miweb.com/">

  <!-- SEO Redes Sociales -->
  <meta property="og:title" content="Mi Web Integrada | Noticias + Clima">
  <meta property="og:description" content="Noticias al instante, clima en C√≥rdoba y hora actualizada.">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://via.placeholder.com/1200x630.png?text=Mi+Web+Integrada">
  
  <!-- Metadatos Open Graph para compartir -->
<meta property="og:title" content="Mi P√°gina Web Genial üî•">
<meta property="og:description" content="Descripci√≥n de mi sitio web al compartirlo.">
<meta property="og:image" content="https://i.imgur.com/DApJ91v.jpeg">
<meta property="og:url" content="https://agustiin-diaz.netlify.app/">
<meta property="og:type" content="website">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Mi P√°gina Web Genial üî•">
<meta name="twitter:description" content="Descripci√≥n de mi sitio web al compartirlo.">
<meta name="twitter:image" content="https://i.imgur.com/DApJ91v.jpeg">

  <!-- TypeScript -->
  <script src="https://cdn.jsdelivr.net/npm/typescript@5.9.2/lib/typescript.js"></script>

  <style>
    /* Variables CSS */
    :root {
      --primary-color: #2563eb;
      --primary-light: #3b82f6;
      --text-color: #1f2937;
      --text-light: #6b7280;
      --border-color: #e5e7eb;
      --bg-color: #ffffff;
      --card-bg: #f8fafc;
      --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      --shadow-hover: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      --radius: 16px;
      --radius-sm: 8px;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
      background: var(--bg-color);
      color: var(--text-color);
      line-height: 1.6;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    /* Header */
    header {
      background: linear-gradient(135deg, var(--primary-color), #1d4ed8);
      color: white;
      padding: 1.8rem 1rem;
      text-align: center;
      box-shadow: var(--shadow);
      position: relative;
      overflow: hidden;
    }

    header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, #f59e0b, #ef4444, #8b5cf6, #10b981);
    }

    header h1 {
      font-size: 2.2rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
    }

    header p {
      opacity: 0.9;
      font-size: 1rem;
    }

    /* Contenedor principal - DISE√ëO NUEVO */
    .contenedor {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
      padding: 1.5rem;
      max-width: 100%;
      margin: 0 auto;
    }

    @media (min-width: 1024px) {
      .contenedor {
        flex-direction: row;
        align-items: flex-start;
        padding: 2rem;
      }
    }

    /* Panel lateral (Usuario + Tiempo) */
    .panel-lateral {
      flex-shrink: 0;
      width: 100%;
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }

    @media (min-width: 1024px) {
      .panel-lateral {
        width: 350px;
      }
    }

    /* Tarjetas */
    .tarjeta {
      background: var(--card-bg);
      border-radius: var(--radius);
      padding: 1.8rem;
      border: 1px solid var(--border-color);
      box-shadow: var(--shadow);
      transition: all 0.3s ease;
    }

    .tarjeta:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-hover);
    }

    .tarjeta h3 {
      font-size: 1.4rem;
      margin-bottom: 1.2rem;
      padding-bottom: 0.75rem;
      border-bottom: 2px solid var(--primary-color);
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    /* Tarjeta de tiempo unificada - DISE√ëO NUEVO */
    .tiempo-unificado {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .tiempo-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1rem;
    }

    @media (max-width: 768px) {
      .tiempo-grid {
        grid-template-columns: 1fr;
      }
    }

    .tiempo-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 1.2rem;
      background: white;
      border-radius: var(--radius-sm);
      border: 1px solid var(--border-color);
      transition: all 0.2s ease;
    }

    .tiempo-item:hover {
      background: #f0f9ff;
      border-color: var(--primary-light);
    }

    .tiempo-icono {
      font-size: 2rem;
      margin-bottom: 0.75rem;
    }

    .tiempo-titulo {
      font-size: 0.9rem;
      color: var(--text-light);
      margin-bottom: 0.5rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      font-weight: 600;
    }

    .tiempo-valor {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--text-color);
    }

    .tiempo-detalle {
      font-size: 0.85rem;
      color: var(--text-light);
      margin-top: 0.25rem;
    }

    /* Usuario */
    .usuario-info {
      text-align: center;
    }

    .usuario-avatar {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--primary-color), #8b5cf6);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      color: white;
      margin: 0 auto 1rem;
    }

    .usuario-nombre {
      font-size: 1.4rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
    }

    .usuario-detalles {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
      margin-top: 1rem;
    }

    .usuario-item {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      padding: 0.5rem;
      background: white;
      border-radius: var(--radius-sm);
      border: 1px solid var(--border-color);
    }

    /* Contenedor de noticias - ANCHO COMPLETO */
    .noticias-container {
      flex: 1;
      width: 100%;
    }

    /* Selector de categor√≠as - M√ÅS TEMAS */
    .categorias-container {
      display: flex;
      flex-wrap: wrap;
      gap: 0.75rem;
      margin-bottom: 1.5rem;
      padding: 1rem;
      background: white;
      border-radius: var(--radius-sm);
      border: 1px solid var(--border-color);
    }

    .categoria-btn {
      padding: 0.6rem 1.2rem;
      background: white;
      border: 2px solid var(--border-color);
      border-radius: 50px;
      font-weight: 500;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.9rem;
    }

    .categoria-btn:hover {
      background: #f3f4f6;
      transform: translateY(-2px);
      border-color: var(--primary-light);
    }

    .categoria-btn.active {
      background: var(--primary-color);
      color: white;
      border-color: var(--primary-color);
      box-shadow: 0 2px 8px rgba(37, 99, 235, 0.3);
    }

    .categoria-icono {
      font-size: 1rem;
    }

    /* Noticias - DISE√ëO MEJORADO */
    .noticias-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
      gap: 1.5rem;
      width: 100%;
    }

    @media (max-width: 768px) {
      .noticias-grid {
        grid-template-columns: 1fr;
      }
    }

    .noticia {
      background: white;
      border-radius: var(--radius);
      padding: 1.5rem;
      border: 1px solid var(--border-color);
      transition: all 0.3s ease;
      display: flex;
      flex-direction: column;
      height: 100%;
    }

    .noticia:hover {
      transform: translateY(-4px);
      border-color: var(--primary-light);
      box-shadow: var(--shadow-hover);
    }

    .noticia-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 1rem;
    }

    .noticia-categoria {
      background: #f0f9ff;
      color: var(--primary-color);
      padding: 0.25rem 0.75rem;
      border-radius: 50px;
      font-size: 0.8rem;
      font-weight: 600;
    }

    .noticia-fecha {
      color: var(--text-light);
      font-size: 0.85rem;
    }

    .noticia h4 {
      font-size: 1.2rem;
      margin-bottom: 1rem;
      line-height: 1.4;
      flex-grow: 1;
    }

    .noticia img {
      width: 100%;
      height: 180px;
      object-fit: cover;
      border-radius: var(--radius-sm);
      margin: 1rem 0;
    }

    .noticia .descripcion {
      color: var(--text-light);
      margin-bottom: 1.5rem;
      font-size: 0.95rem;
      line-height: 1.5;
      flex-grow: 1;
    }

    .noticia-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: auto;
      padding-top: 1rem;
      border-top: 1px solid var(--border-color);
    }

    .noticia-fuente {
      color: var(--text-light);
      font-size: 0.9rem;
      font-weight: 500;
    }

    .btn-leer {
      background: var(--primary-color);
      color: white;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: var(--radius-sm);
      font-weight: 600;
      transition: all 0.2s ease;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
    }

    .btn-leer:hover {
      background: #1d4ed8;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
    }

    /* Footer */
    footer {
      margin-top: auto;
      text-align: center;
      padding: 1.5rem;
      background: #f9fafb;
      border-top: 1px solid var(--border-color);
      color: var(--text-light);
    }

    /* Modal */
    #modal {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(8px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      padding: 1rem;
      animation: fadeIn 0.3s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    #modal-contenido {
      background: white;
      border-radius: var(--radius);
      width: 100%;
      max-width: 1200px;
      height: 90vh;
      display: flex;
      flex-direction: column;
      overflow: hidden;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
      animation: slideUp 0.3s ease;
    }

    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    #btn-cerrar {
      background: var(--primary-color);
      color: white;
      padding: 1rem;
      text-align: center;
      font-weight: 600;
      border: none;
      width: 100%;
      transition: background 0.2s ease;
    }

    #btn-cerrar:hover {
      background: #1d4ed8;
    }

    iframe {
      border: none;
      flex: 1;
      width: 100%;
    }

    /* Loading */
    .loading {
      text-align: center;
      padding: 3rem;
      color: var(--text-light);
    }

    .loading-spinner {
      border: 3px solid #f3f4f6;
      border-top: 3px solid var(--primary-color);
      border-radius: 50%;
      width: 50px;
      height: 50px;
      animation: spin 1s linear infinite;
      margin: 0 auto 1.5rem;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Responsive */
    @media (max-width: 640px) {
      .contenedor {
        padding: 1rem;
      }
      
      .tarjeta {
        padding: 1.2rem;
      }
      
      .categorias-container {
        justify-content: center;
      }
      
      .categoria-btn {
        padding: 0.5rem 1rem;
        font-size: 0.85rem;
      }
      
      .tiempo-valor {
        font-size: 1.3rem;
      }
    }

    /* Animaci√≥n para noticias */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .noticia {
      animation: fadeInUp 0.4s ease forwards;
      opacity: 0;
    }

    .noticia:nth-child(1) { animation-delay: 0.1s; }
    .noticia:nth-child(2) { animation-delay: 0.2s; }
    .noticia:nth-child(3) { animation-delay: 0.3s; }
    .noticia:nth-child(4) { animation-delay: 0.4s; }
    .noticia:nth-child(5) { animation-delay: 0.5s; }
    .noticia:nth-child(6) { animation-delay: 0.6s; }
    .noticia:nth-child(7) { animation-delay: 0.7s; }
    .noticia:nth-child(8) { animation-delay: 0.8s; }
  </style>
</head>

<body>
  <header>
    <h1>üì∞ Mi Web Integrada üåê</h1>
    <p>Noticias ¬∑ Clima ¬∑ Hora ¬∑ Usuario</p>
  </header>

  <div class="contenedor">
    <!-- Panel lateral con Usuario y Tiempo unificado -->
    <div class="panel-lateral">
      <!-- Usuario -->
      <section class="tarjeta">
        <h3>üë§ Usuario</h3>
        <div class="usuario-info">
          <div class="usuario-avatar">AD</div>
          <div class="usuario-nombre" id="usuario-nombre"></div>
          <div class="usuario-detalles">
            <div class="usuario-item">
              <span>üìç</span>
              <span id="usuario-ciudad"></span>
            </div>
            <div class="usuario-item">
              <span>üéÇ</span>
              <span id="usuario-edad"></span>
            </div>
          </div>
        </div>
      </section>

      <!-- Fecha, Hora & Clima UNIFICADO -->
      <section class="tarjeta">
        <h3>‚è∞ Tiempo & Clima</h3>
        <div class="tiempo-unificado">
          <div class="tiempo-grid">
            <div class="tiempo-item">
              <div class="tiempo-icono">üìÖ</div>
              <div class="tiempo-titulo">Fecha</div>
              <div class="tiempo-valor" id="fecha"></div>
              <div class="tiempo-detalle" id="fecha-completa"></div>
            </div>
            <div class="tiempo-item">
              <div class="tiempo-icono">‚è∞</div>
              <div class="tiempo-titulo">Hora</div>
              <div class="tiempo-valor" id="hora"></div>
              <div class="tiempo-detalle">ARG</div>
            </div>
            <div class="tiempo-item">
              <div class="tiempo-icono" id="clima-icono">üå°Ô∏è</div>
              <div class="tiempo-titulo">Clima</div>
              <div class="tiempo-valor" id="clima"></div>
              <div class="tiempo-detalle" id="clima-desc"></div>
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- Noticias - ANCHO COMPLETO -->
    <section class="tarjeta noticias-container">
      <h3>üì∞ √öltimas Noticias</h3>
      
      <!-- Selector de categor√≠as - M√ÅS TEMAS -->
      <div class="categorias-container">
        <button class="categoria-btn active" data-categoria="general">
          <span class="categoria-icono">üåç</span> General
        </button>
        <button class="categoria-btn" data-categoria="sports">
          <span class="categoria-icono">‚öΩ</span> Deportes
        </button>
        <button class="categoria-btn" data-categoria="science">
          <span class="categoria-icono">üî¨</span> Ciencia
        </button>
        <button class="categoria-btn" data-categoria="technology">
          <span class="categoria-icono">üíª</span> Tecnolog√≠a
        </button>
        <button class="categoria-btn" data-categoria="entertainment">
          <span class="categoria-icono">üé¨</span> Entretenimiento
        </button>
        <button class="categoria-btn" data-categoria="health">
          <span class="categoria-icono">üè•</span> Salud
        </button>
        <button class="categoria-btn" data-categoria="business">
          <span class="categoria-icono">üíº</span> Negocios
        </button>
        <button class="categoria-btn" data-categoria="world">
          <span class="categoria-icono">üó∫Ô∏è</span> Mundial
        </button>
        <button class="categoria-btn" data-categoria="nation">
          <span class="categoria-icono">üá¶üá∑</span> Argentina
        </button>
        <button class="categoria-btn" data-categoria="politics">
          <span class="categoria-icono">üèõÔ∏è</span> Pol√≠tica
        </button>
      </div>

      <!-- Contenedor de noticias -->
      <div id="lista-noticias">
        <div class="loading">
          <div class="loading-spinner"></div>
          <p>Cargando noticias...</p>
        </div>
      </div>
    </section>
  </div>

  <footer>
    ¬© 2025 ‚Äî Agust√≠n D√≠az.
  </footer>

  <!-- Modal Lector -->
  <div id="modal">
    <div id="modal-contenido">
      <button id="btn-cerrar">Cerrar ‚úñÔ∏è</button>
      <iframe id="visor"></iframe>
    </div>
  </div>

  <script id="ts" type="text/typescript">
    interface Usuario {
      nombre: string;
      edad: number;
      ciudad: string;
    }

    interface Noticia {
      title: string;
      description: string;
      image: string;
      url: string;
      publishedAt: string;
      source: {
        name: string;
      };
    }

    // Usuario
    const usuario: Usuario = {
      nombre: "Agust√≠n D√≠az",
      edad: 28,
      ciudad: "C√≥rdoba, Argentina"
    };

    // Mostrar informaci√≥n del usuario
    document.getElementById("usuario-nombre")!.textContent = usuario.nombre;
    document.getElementById("usuario-ciudad")!.textContent = usuario.ciudad;
    document.getElementById("usuario-edad")!.textContent = `${usuario.edad} a√±os`;

    // Fecha y hora
    function actualizarFechaHora() {
      const ahora = new Date();
      const opcionesFecha: Intl.DateTimeFormatOptions = { 
        weekday: 'long', 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric' 
      };
      const opcionesFechaCorta: Intl.DateTimeFormatOptions = {
        day: 'numeric',
        month: 'short'
      };
      const opcionesHora: Intl.DateTimeFormatOptions = { 
        hour: '2-digit', 
        minute: '2-digit', 
        second: '2-digit',
        hour12: false 
      };
      
      document.getElementById("fecha")!.textContent = 
        ahora.toLocaleDateString("es-AR", opcionesFechaCorta);
      document.getElementById("fecha-completa")!.textContent = 
        ahora.toLocaleDateString("es-AR", { weekday: 'short', day: 'numeric', month: 'short' });
      document.getElementById("hora")!.textContent = 
        ahora.toLocaleTimeString("es-AR", { hour: '2-digit', minute: '2-digit' });
    }

    setInterval(actualizarFechaHora, 1000);
    actualizarFechaHora();

    // Clima mejorado
    const descripcionesClima: Record<number, string> = {
      0: "Despejado",
      1: "Mayormente despejado",
      2: "Parcialmente nublado",
      3: "Nublado",
      45: "Niebla",
      48: "Niebla escarchada",
      51: "Llovizna ligera",
      53: "Llovizna moderada",
      55: "Llovizna intensa",
      61: "Lluvia ligera",
      63: "Lluvia moderada",
      65: "Lluvia intensa",
      71: "Nieve ligera",
      73: "Nieve moderada",
      75: "Nieve intensa",
      80: "Chubascos ligeros",
      81: "Chubascos moderados",
      82: "Chubascos violentos",
      85: "Nevadas ligeras",
      86: "Nevadas intensas",
      95: "Tormenta el√©ctrica",
      96: "Tormenta el√©ctrica con granizo ligero",
      99: "Tormenta el√©ctrica con granizo intenso"
    };

    const iconosClima: Record<number, string> = {
      0: "‚òÄÔ∏è", 1: "üå§Ô∏è", 2: "‚õÖ", 3: "‚òÅÔ∏è",
      45: "üå´Ô∏è", 48: "üå´Ô∏è", 51: "üå¶Ô∏è", 53: "üå¶Ô∏è", 55: "üåßÔ∏è",
      61: "üåßÔ∏è", 63: "üåßÔ∏è", 65: "üåßÔ∏è", 71: "‚ùÑÔ∏è", 73: "‚ùÑÔ∏è", 75: "‚ùÑÔ∏è",
      80: "üå¶Ô∏è", 81: "üåßÔ∏è", 82: "‚õàÔ∏è", 85: "‚ùÑÔ∏è", 86: "‚ùÑÔ∏è",
      95: "‚õàÔ∏è", 96: "‚õàÔ∏è", 99: "‚õàÔ∏è"
    };

    async function obtenerClima() {
      try {
        const res = await fetch(
          "https://api.open-meteo.com/v1/forecast?latitude=-31.42&longitude=-64.18&current_weather=true&timezone=America%2FArgentina%2FBuenos_Aires"
        );
        const data = await res.json();
        const c = data.current_weather;

        const icono = iconosClima[c.weathercode] || "üåç";
        const descripcion = descripcionesClima[c.weathercode] || "Condiciones variables";
        
        document.getElementById("clima-icono")!.textContent = icono;
        document.getElementById("clima")!.textContent = `${Math.round(c.temperature)}¬∞C`;
        document.getElementById("clima-desc")!.textContent = descripcion;
      } catch (error) {
        console.error("Error obteniendo clima:", error);
        document.getElementById("clima")!.textContent = "--¬∞C";
        document.getElementById("clima-desc")!.textContent = "Error";
      }
    }

    obtenerClima();
    setInterval(obtenerClima, 300000); // Actualizar cada 5 minutos

    // Noticias con m√°s categor√≠as
    let categoriaActual = "general";
    const API_KEY = "c74fb3410531720e3f47c82d881c5c7f"; // Sustituir con tu API key real

    // Mapeo de categor√≠as a temas de GNews
    const mapeoCategorias: Record<string, string> = {
      "general": "general",
      "sports": "sports",
      "science": "science",
      "technology": "technology",
      "entertainment": "entertainment",
      "health": "health",
      "business": "business",
      "world": "world",
      "nation": "nation",
      "politics": "politics"
    };

    // Traducci√≥n de categor√≠as
    const nombresCategorias: Record<string, string> = {
      "general": "General",
      "sports": "Deportes",
      "science": "Ciencia",
      "technology": "Tecnolog√≠a",
      "entertainment": "Entretenimiento",
      "health": "Salud",
      "business": "Negocios",
      "world": "Mundial",
      "nation": "Argentina",
      "politics": "Pol√≠tica"
    };

    async function cargarNoticias(categoria: string = "general") {
      const contenedor = document.getElementById("lista-noticias")!;
      contenedor.innerHTML = `
        <div class="loading">
          <div class="loading-spinner"></div>
          <p>Cargando noticias de ${nombresCategorias[categoria]}...</p>
        </div>
      `;

      try {
        // Construir URL seg√∫n categor√≠a
        const tema = mapeoCategorias[categoria] || "general";
        let url = `https://gnews.io/api/v4/top-headlines?lang=es&max=12&apikey=${API_KEY}`;
        
        if (tema !== "general") {
          url += `&topic=${tema}`;
        }

        const res = await fetch(url);
        
        if (!res.ok) {
          throw new Error(`Error HTTP: ${res.status}`);
        }
        
        const data = await res.json();

        if (!data.articles || data.articles.length === 0) {
          contenedor.innerHTML = `
            <div style="text-align: center; padding: 3rem; color: #6b7280;">
              <p style="font-size: 1.2rem; margin-bottom: 1rem;">üì≠ No hay noticias disponibles</p>
              <p>Intenta seleccionar otra categor√≠a.</p>
            </div>
          `;
          return;
        }

        // Renderizar noticias en grid
        let noticiasHTML = '<div class="noticias-grid">';
        
        data.articles.forEach((art: Noticia, index: number) => {
          const fecha = new Date(art.publishedAt);
          const fechaFormateada = fecha.toLocaleDateString("es-AR", {
            day: "numeric",
            month: "short",
            hour: "2-digit",
            minute: "2-digit"
          });

          noticiasHTML += `
            <div class="noticia" style="animation-delay: ${index * 0.1}s">
              <div class="noticia-header">
                <div class="noticia-categoria">${nombresCategorias[categoria]}</div>
                <div class="noticia-fecha">${fechaFormateada}</div>
              </div>
              <h4>${art.title}</h4>
              ${art.image ? `<img src="${art.image}" alt="${art.title}" onerror="this.style.display='none'">` : ""}
              ${art.description ? `<p class="descripcion">${art.description}</p>` : ""}
              <div class="noticia-footer">
                <div class="noticia-fuente">${art.source.name || "Fuente"}</div>
                <button class="btn-leer" data-url="${art.url}">
                  Leer ‚Üí
                </button>
              </div>
            </div>
          `;
        });

        noticiasHTML += '</div>';
        contenedor.innerHTML = noticiasHTML;
      } catch (error) {
        console.error("Error cargando noticias:", error);
        contenedor.innerHTML = `
          <div style="text-align: center; padding: 3rem; color: #dc2626;">
            <p style="font-size: 1.2rem; margin-bottom: 1rem;">‚ö†Ô∏è Error al cargar noticias</p>
            <p style="font-size: 0.9rem; margin-bottom: 1.5rem;">Por favor, intenta nuevamente en unos minutos.</p>
            <button class="btn-leer" onclick="cargarNoticias(categoriaActual)" style="margin: 0 auto;">
              Reintentar
            </button>
          </div>
        `;
      }
    }

    // Cargar noticias iniciales
    cargarNoticias(categoriaActual);

    // Manejar clic en categor√≠as
    document.querySelectorAll(".categoria-btn").forEach(btn => {
      btn.addEventListener("click", (e) => {
        const target = e.target as HTMLElement;
        const boton = target.closest(".categoria-btn") as HTMLElement;
        const categoria = boton.dataset.categoria!;
        
        // Actualizar botones activos
        document.querySelectorAll(".categoria-btn").forEach(b => 
          b.classList.remove("active")
        );
        boton.classList.add("active");
        
        // Cargar noticias de la categor√≠a seleccionada
        categoriaActual = categoria;
        cargarNoticias(categoria);
      });
    });

    // Modal
    document.addEventListener("click", (e) => {
      const target = e.target as HTMLElement;
      
      if (target.classList.contains("btn-leer")) {
        const url = target.dataset.url;
        if (url) {
          const iframe = document.getElementById("visor") as HTMLIFrameElement;
          iframe.src = url;
          document.getElementById("modal")!.style.display = "flex";
          document.body.style.overflow = "hidden";
        }
      }
      
      if (target.id === "btn-cerrar" || target.id === "modal") {
        document.getElementById("modal")!.style.display = "none";
        document.body.style.overflow = "auto";
        const iframe = document.getElementById("visor") as HTMLIFrameElement;
        iframe.src = "";
      }
    });

    // Cerrar modal con Escape
    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape") {
        document.getElementById("modal")!.style.display = "none";
        document.body.style.overflow = "auto";
        const iframe = document.getElementById("visor") as HTMLIFrameElement;
        iframe.src = "";
      }
    });

    // Scroll suave para categor√≠as
    document.querySelectorAll(".categoria-btn").forEach(btn => {
      btn.addEventListener("click", () => {
        document.querySelector(".noticias-container")?.scrollIntoView({
          behavior: "smooth",
          block: "start"
        });
      });
    });
  </script>

  <script>
    // Transpilaci√≥n TypeScript
    window.addEventListener("DOMContentLoaded", () => {
      const tsCode = document.querySelector("#ts")?.textContent ?? "";
      const jsCode = ts.transpile(tsCode, { 
        target: "ES2020", 
        module: "ESNext",
        strict: true
      });
      
      // Crear un script y ejecutar el c√≥digo transpilado
      const script = document.createElement('script');
      script.textContent = jsCode;
      document.head.appendChild(script);
    });
  </script>
</body>
</html>